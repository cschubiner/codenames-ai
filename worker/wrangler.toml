name = "codenames-ai"
main = "src/index.ts"
compatibility_date = "2024-01-01"

[dev]
port = 8788

[vars]
ENVIRONMENT = "development"

# Durable Objects binding
[[durable_objects.bindings]]
name = "GAME_ROOM"
class_name = "GameRoom"

# KV namespace for game registry
[[kv_namespaces]]
binding = "GAME_REGISTRY"
id = "70e2c20cf95a48ddad55eda8d15c2d8a"

# D1 database for game history
[[d1_databases]]
binding = "GAME_HISTORY"
database_name = "codenames-history"
database_id = "aca551ca-7cce-4e11-9701-4e22aeff6000"

# Migrations for Durable Objects (using SQLite for free plan compatibility)
[[migrations]]
tag = "v1"
new_sqlite_classes = ["GameRoom"]

# For local development, you can set secrets with:
# wrangler secret put OPENAI_API_KEY
